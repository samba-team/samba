.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "SMBCQUOTAS" 1 "" "" ""
.SH NAME
smbcquotas \- Set or get QUOTAs of NTFS 5 shares
.SH "SYNOPSIS"

.nf
\fBsmbcquotas\fR {//server/share} [-u user] [-L] [-F] [-S QUOTA_SET_COMMAND] [-n] [-t]
           [-v] [-d debuglevel] [-s configfile] [-l logfilebase] [-V] [-U username]
           [-N] [-k] [-A]
.fi

.SH "DESCRIPTION"

.PP
This tool is part of the \fBSamba\fR(7) suite\&.

.PP
The \fBsmbcquotas\fR program manipulates NT Quotas on SMB file shares\&.

.SH "OPTIONS"

.PP
The following options are available to the \fBsmbcquotas\fR program\&.

.TP
-u user
Specifies the user of whom the quotas are get or set\&. By default the current user's username will be used\&.


.TP
-L
Lists all quota records of the share\&.


.TP
-F
Show the share quota status and default limits\&.


.TP
-S QUOTA_SET_COMMAND
This command set/modify quotas for a user or on the share, depending on the QUOTA_SET_COMMAND parameter witch is described later


.TP
-n
This option displays all QUOTA information in numeric format\&. The default is to convert SIDs to names and QUOTA limits to a readable string format\&.


.TP
-t
Don't actually do anything, only validate the correctness of the arguments\&.


.TP
-v
Be verbose\&.


.TP
-h|--help
Print a summary of command line options\&.


.TP
-V
Prints the version number for \fBsmbd\fR\&.


.TP
-s <configuration file>
The file specified contains the configuration details required by the server\&. The information in this file includes server-specific information such as what printcap file to use, as well as descriptions of all the services that the server is to provide\&. See \fIsmb\&.conf\fR for more information\&. The default configuration file name is determined at compile time\&.


.TP
-d|--debug=debuglevel
\fIdebuglevel\fR is an integer from 0 to 10\&. The default value if this parameter is not specified is zero\&.


The higher this value, the more detail will be logged to the log files about the activities of the server\&. At level 0, only critical errors and serious warnings will be logged\&. Level 1 is a reasonable level for day to day running - it generates a small amount of information about operations carried out\&.


Levels above 1 will generate considerable amounts of log data, and should only be used when investigating a problem\&. Levels above 3 are designed for use only by developers and generate HUGE amounts of log data, most of which is extremely cryptic\&.


Note that specifying this parameter here will override the \fIlog level\fR parameter in the \fIsmb\&.conf\fR file\&.


.TP
-l|--logfile=logbasename
File name for log/debug files\&. The extension \fB"\&.client"\fR will be appended\&. The log file is never removed by the client\&.


.TP
-N
If specified, this parameter suppresses the normal password prompt from the client to the user\&. This is useful when accessing a service that does not require a password\&.


Unless a password is specified on the command line or this parameter is specified, the client will request a password\&.


.TP
-k
Try to authenticate with kerberos\&. Only useful in an Active Directory environment\&.


.TP
-A|--authfile=filename
This option allows you to specify a file from which to read the username and password used in the connection\&. The format of the file is


.nf

username = <value>
password = <value>
domain   = <value>
.fi


Make certain that the permissions on the file restrict access from unwanted users\&.


.TP
-U|--user=username[%password]
Sets the SMB username or username and password\&.


If %password is not specified, the user will be prompted\&. The client will first check the \fBUSER\fR environment variable, then the \fBLOGNAME\fR variable and if either exists, the string is uppercased\&. If these environmental variables are not found, the username \fBGUEST\fR is used\&.


A third option is to use a credentials file which contains the plaintext of the username and password\&. This option is mainly provided for scripts where the admin does not wish to pass the credentials on the command line or via environment variables\&. If this method is used, make certain that the permissions on the file restrict access from unwanted users\&. See the \fI-A\fR for more details\&.


Be cautious about including passwords in scripts\&. Also, on many systems the command line of a running process may be seen via the \fBps\fR command\&. To be safe always allow \fBrpcclient\fR to prompt for a password and type it in directly\&.


.SH "QUOTA_SET_COMAND"

.PP
The format of an ACL is one or more ACL entries separated by either commas or newlines\&. An ACL entry is one of the following:

.PP
for user setting quotas for the specified by -u or the current username:

.PP
\fB UQLIM:<username><softlimit><hardlimit> \fR

.PP
for setting the share quota defaults limits:

.PP
\fB FSQLIM:<softlimit><hardlimit> \fR

.PP
for changing the share quota settings:

.PP
\fB FSQFLAGS:QUOTA_ENABLED/DENY_DISK/LOG_SOFTLIMIT/LOG_HARD_LIMIT \fR

.SH "EXIT STATUS"

.PP
The \fBsmbcquotas\fR program sets the exit status depending on the success or otherwise of the operations performed\&. The exit status may be one of the following values\&.

.PP
If the operation succeeded, smbcquotas returns an exit status of 0\&. If \fBsmbcquotas\fR couldn't connect to the specified server, or when there was an error getting or setting the quota(s), an exit status of 1 is returned\&. If there was an error parsing any command line arguments, an exit status of 2 is returned\&.

.SH "VERSION"

.PP
This man page is correct for version 3\&.0 of the Samba suite\&.

.SH "AUTHOR"

.PP
The original Samba software and related utilities were created by Andrew Tridgell\&. Samba is now developed by the Samba Team as an Open Source project similar to the way the Linux kernel is developed\&.

.PP
\fBsmbcacls\fR was written by Stefan Metzmacher\&.

