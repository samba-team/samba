.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "TESTPRNS" 1 "" "" ""
.SH NAME
testprns \- check printer name for validity with smbd
.SH "SYNOPSIS"

.nf
\fBtestprns\fR {printername} [printcapname]
.fi

.SH "DESCRIPTION"

.PP
This tool is part of the \fBSamba\fR(7) suite\&.

.PP
\fBtestprns\fR is a very simple test program to determine whether a given printer name is valid for use in a service to be provided by \fBsmbd\fR(8)\&.

.PP
"Valid" in this context means "can be found in the printcap specified"\&. This program is very stupid - so stupid in fact that it would be wisest to always specify the printcap file to use\&.

.SH "OPTIONS"

.TP
printername
The printer name to validate\&.


Printer names are taken from the first field in each record in the printcap file, single printer names and sets of aliases separated by vertical bars ("|") are recognized\&. Note that no validation or checking of the printcap syntax is done beyond that required to extract the printer name\&. It may be that the print spooling system is more forgiving or less forgiving than \fBtestprns\fR\&. However, if \fBtestprns\fR finds the printer then \fBsmbd\fR(8) should do so as well\&.


.TP
printcapname
This is the name of the printcap file within which to search for the given printer name\&.


If no printcap name is specified \fBtestprns \fR will attempt to scan the printcap file name specified at compile time\&.


.SH "FILES"

.TP
\fI/etc/printcap\fR
This is usually the default printcap file to scan\&. See \fIprintcap (5)\fR\&.


.SH "DIAGNOSTICS"

.PP
If a printer is found to be valid, the message "Printer name <printername> is valid" will be displayed\&.

.PP
If a printer is found to be invalid, the message "Printer name <printername> is not valid" will be displayed\&.

.PP
All messages that would normally be logged during operation of the Samba daemons are logged by this program to the file \fItest\&.log\fR in the current directory\&. The program runs at debuglevel 3, so quite extensive logging information is written\&. The log should be checked carefully for errors and warnings\&.

.PP
Other messages are self-explanatory\&.

.SH "VERSION"

.PP
This man page is correct for version 3\&.0 of the Samba suite\&.

.SH "SEE ALSO"

.PP
\fIprintcap(5)\fR,\fBsmbd\fR(8), \fBsmbclient\fR(1)

.SH "AUTHOR"

.PP
The original Samba software and related utilities were created by Andrew Tridgell\&. Samba is now developed by the Samba Team as an Open Source project similar to the way the Linux kernel is developed\&.

.PP
The original Samba man pages were written by Karl Auer\&. The man page sources were converted to YODL format (another excellent piece of Open Source software, available at ftp://ftp\&.icce\&.rug\&.nl/pub/unix/) and updated for the Samba 2\&.0 release by Jeremy Allison\&. The conversion to DocBook for Samba 2\&.2 was done by Gerald Carter\&. The conversion to DocBook XML 4\&.2 for Samba 3\&.0 was done by Alexander Bokovoy\&.

