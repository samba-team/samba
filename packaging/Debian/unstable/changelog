samba (2.2.1a.cvs20011002-1) experimental; urgency=low

  * Building from CVS sources. This code will become Samba 2.2.2 RSN.
  * Temporary fix for #113763 (Steve Langasek)

 -- Eloy A. Paris <peloy@debian.org>  Thu,  4 Oct 2001 00:02:08 -0400

samba (2.2.1a-9.1) unstable; urgency=low

  * Quick hack to avoid smbmount reveal password length. Please note
    that even with this hack there is a small window when password is
    completely visible with 'ps aux'. There are other methods that should
    be used to automate mounting of SMB shares.
    Closes: #112195: smbmount-2.2.x reveals password length.
  * Applied patch from Steve Langasek <vorlon@debian.org> to prevent
    forcing use of setresuid() in Sparc.
    Closes: #112779: samba build forces use of setresuid, which causes
                     smbd to fail on Sparc.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 24 Sep 2001 19:52:07 -0400

samba (2.2.1a-9) unstable; urgency=low

  * Replaced $(LD) with $(CC) all the way through source/Makefile.
    Closes: #111036: ld shouldn't be used to link shlibs.
  * s/\/bin\/mail/\/usr\/bin\/mail/ in smb.conf's man page (HTML and
    sgml as well.)
    Closes: #110963: smb.conf: mail should be /usr/bin/mail.
  * Documented better smbclient's -W behavior. Patch from Steve
    Langasek.
    Closes: #53672: smbclient: -W flag is interpreted as domain, not
            workgroup.

 -- Eloy A. Paris <peloy@debian.org>  Tue,  4 Sep 2001 23:10:41 -0400

samba (2.2.1a-8) unstable; urgency=low

  * Set some reasonable default perms for the samba logdir (again,
    thanks to vorlon :-)
    Closes: #72529: insecure permissions on log files.

 -- Eloy A. Paris <peloy@debian.org>  Sun, 26 Aug 2001 15:40:47 -0400

samba (2.2.1a-7) unstable; urgency=low

  * Another attempt at fixing #47493. Patch from Steve Langasek
    <vorlon@netexpress.net>. Let's keep our fingers crossed Steve!

 -- Eloy A. Paris <peloy@debian.org>  Sun, 26 Aug 2001 13:37:06 -0400

samba (2.2.1a-6) unstable; urgency=low

  * Backed out fix to #47493 introduced in 2.2.1a-4 as it is causing
    smbd to die with signal 11 under some unidentified situations.
    Closes: #109774: Latest debian version breaks printer driver download.
    Closes: #109946: not all files appear in samba-exported directories.
  * Another patch from Steve Langasek. This one adds quotes around 
    printer names for print systems it's reasonable for Debian to
    support. Together with the patch in #29957 (see changelog for
    2.2.1a-4), this should take care of the problems with multi-word 
    printer names in Samba.

 -- Eloy A. Paris <peloy@debian.org>  Fri, 24 Aug 2001 21:12:27 -0400

samba (2.2.1a-5) unstable; urgency=low

  * Important changes that affect how Samba is built on Debian
    machines are implemented in this release. All of this changes
    were suggested by the energetic Steve Langasek <vorlon@debian.org>,
    and his arguments were so sound and reasonable that I decided
    to implement them. Here's Steve's original changelog:

       * Fix up the build system to avoid needing to run configure 
         as root to answer questions we already know the answers to.
       * In the process, make surprising progress towards being able to
         cross-compile the samba packages.

 -- Eloy A. Paris <peloy@debian.org>  Fri, 24 Aug 2001 01:08:06 -0400

samba (2.2.1a-4) unstable; urgency=low

  * Fixed typo in smbmount's mount page.
    Closes: #109317: smbfs: mistype in smbmount manpage.
  * Included symlink to smbspool to better support CUPS printing.
    Closes: #109509: include symlink for cups samba support.
  * Applied patch from Steve Langasek <vorlon@netexpress.net> to
    fix bug #29957.
    Closes: #29957: samba strips trailing " from strings in smb.conf.
  * First attempt at fixing #47493. Another patch from Steve "I want
    a bug-free Samba" Langasek.
    Closes: #47493: Samba doesn't handle ':' in dir names right.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 21 Aug 2001 23:26:38 -0400

samba (2.2.1a-3) unstable; urgency=low

  * Steve Langasek <vorlon@netexpress.net> has been hard at work in
    the last few days looking at the long list of open bugs filed
    against the Samba packages. I don't know how to thank him. It's been
    a pleasure working with Steve, and all the fixes, patches, etc. in
    this release come from him. The bug list is greatly reduced thanks
    to Steve's efforts.
  * Steve's additions/modifications/patches/etc. are:
    - New package that (libpam-smbpass) provides pam_smbpass. Before, this
      was provided in another package but now the sources are part of
      the Samba sources so we can start providing it from here.
      Closes: #107043 - pam_smbpass now present in Samba source,
        should be built from there
    - Patch to source/smbd/service.c that allows admins to call
      /bin/umount from the root postexec of a Samba share.
      Closes: #40561 - samba pre/postexec commands do not work.
    - Clear TMPDIR before starting smbd in /etc/init.d/samba.
      Closes: #51295 - Problems with Samba and TMPDIR.
    - Correction to documentation of "guest only".
      Closes #38282 - "guest only" share still requires a password.
  * Applied patch from Santiago Vila <sanvila@unex.es> to convert
    /usr/sbin/mksmbpasswd from a shell script into a real awk script.
    Sorry it took so long, Santiago; I hadn't realized you even
    provided a patch :-)
    Closes: #77891 - mksmbpasswd could be a real awk script.
  * Updated description of the smbfs and smbclient packages. Also have
    each package recommend the other.
    Closes: #108650: Should suggest or recommend smbfs.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 13 Aug 2001 22:21:55 -0400

samba (2.2.1a-2) unstable; urgency=low

  * Build-depends: depend on debhelper (>=2.0.103).
    Closes: #105795: Build-Depends are wrong.
  * Run samba's preinst and postinst scripts without -e so failed commands
    do not abort installation.
    Closes: #106384: postinstall crashes abnormally. (And really closes
      #104471.)

 -- Eloy A. Paris <peloy@debian.org>  Thu, 26 Jul 2001 00:30:37 -0400

samba (2.2.1a-1) unstable; urgency=low

  * New upstream version.
  * Make sure samba's postinst script exits with a zero status.
    Closes: #104471: Samba postinst problem.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 12 Jul 2001 21:55:21 -0400

samba (2.2.1-1) unstable; urgency=low

  * New upstream version.
    Closes: #103339: config.guess and config.sub update required.
    Closes: #98518: Samba 2.2 can't act as PDC for NT4/W2K due to 
                    incompatibility with PAM.
    Closes: #97447: nmbd crashes due to bugs in DAVE 2.5.2.
    Closes: #95777: Samba 2.2 is unable to join or authenticate against 
                    Samba 2.2 PDC domain.
    Closes: #68842: samba should use PAM for password changing (I
                    haven't personally tried this one, but it's been
                    advertised this works.)
    Closes: #102506: PAM account checking fails.
    Closes: #102518: Complains about unknown paramter "obey pam
                     restrictions"
    Closes: #94774: Build failure on PARISC machines.
  * Moved away from /etc/cron.weekly/samba for log file rotation.
    Now using logrotate.
    Closes: #95548: typo in /etc/cron.weekly/samba.
    Closes: #74951: nmbd does not rename its log file.
  * Removed Debian-specific addtosmbpass.8 man page since this script
    is not longer provided upstream. Users should use the smbpasswd
    program instead.
  * Updated sample /etc/samba/smb.conf to reflect the recent changes
    affecting handling of PAM authentication. Also updated
    /etc/pam.d/samba.

 -- Eloy A. Paris <peloy@debian.org>  Wed, 11 Jul 2001 00:44:14 -0400

samba (2.2.0.final.a-1) unstable; urgency=high

  * New upstream version (contains security fix from DSA-065-1.)
    Closes: #97241: samba 2.2.0 fails to process hostnames in
      "hosts allow" config line.
  * Removed Debian-specific addtosmbpass.8 man page since this script
    is not longer provided upstream. Users should use the smbpasswd
    program instead.
    Closes: #98365: addtosmbpass is missing from 2.2.0.final-2.
  * Updated sample /etc/samba/smb.conf to reflect the recent changes
    affecting handling of PAM authentication. Also updated
    /etc/pam.d/samba.

 -- Eloy A. Paris <peloy@debian.org>  Sun, 24 Jun 2001 11:11:59 -0400

samba (2.2.0.final-2) unstable; urgency=low

  * Added libcupsys2-dev to Build-Depends.
  * Samba depends now (again) on netbase so update-inetd is always
    available for the Samba maintainer scripts.
    Closes: #86063: Fails to uninstall if inetd is not installed.
  * Updated source/config.{sub,guess} so ARM built doesn't fail.
    Closes: #94480: config.sub out of date; can't build on arm.
    Closes: #85801: config.sub/guess out of date.
  * Not using brace expansion, i.e. {foo,bar} in any of the maintainers
    scripts nor in debian/rules.
    Closes: #88007: samba postrm has is not POSIX sh compliant.

 -- Eloy A. Paris <peloy@debian.org>  Sat, 21 Apr 2001 17:27:18 -0400

samba (2.2.0.final-1) unstable; urgency=low

  * New upstream release. Lots of new things. See WHATSNEW.txt.
  * Goofy version number because of my stupidity when assigning version
    numbers to the CVS packages I have been uploading to experimental.
    Will be fixed when 2.2.1 is released. I've no doubts a 2.2.1 release
    will follow soon.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 17 Apr 2001 22:58:14 -0400

samba (2.2.0.cvs20010416-1) experimental; urgency=low

  * CVS update.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 16 Apr 2001 21:25:15 -0400

samba (2.2.0.cvs20010410-1) experimental; urgency=low

  * CVS update.
  * Added libreadline4-dev to Build-Depends.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 10 Apr 2001 16:53:45 -0400

samba (2.2.0.cvs20010407-1) experimental; urgency=low

  * CVS update. Includes what is in 2.2.0alpha3.

 -- Eloy A. Paris <peloy@debian.org>  Sat,  7 Apr 2001 16:00:33 -0400

samba (2.2.0.cvs20010316-1) experimental; urgency=low

  * Started working on Samba 2.2.0. Using the SAMBA_2_2_0 branch
    from Samba CVS.
  * Not compiling rpctorture as it has compile errors. Change in
    debian/rules.
  * Removed Linux kernel 2.0.x and smbfs compatibility baggage. Now
    the smbfs does not support 2.0.x kernels; a kernel > 2.2.x is
    needed to use smbfs. Updated debian/control, debian/rules and
    README.Debian to reflect this change.
  * Added to swat a versioned dependency on samba (so a user is forced to
    install a new version of swat each time a new version of samba is
    installed.)

 -- Eloy A. Paris <peloy@debian.org>  Sun, 18 Mar 2001 14:21:14 -0500

samba (2.0.7-5) unstable; urgency=medium

  * Transition from suidmanager to dpkg-statoverride.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 18 Jan 2001 23:51:56 -0500

samba (2.0.7-4) unstable; urgency=medium

  * Applied Urban Widmark <urban@teststation.com> fixes to smbmount. Urban
    is the maintainer of the smbfs in the kernel and of the userland
    utilities.
  * Links to HTML documents are correct now.
    Closes: #69439: swat: Broken help file symlinks
    Closes: #72615: samba-doc directory changed: removed htmldocs from path
    Closes: #75847: swat: Wrong symlink
    Closes: #66857: Wrong links to html documents.
    Closes: #77912: misplaced documentation symlinks for swat
  * Building Samba with CUPS support. For this I reverted the change to
    source/configure.in that I did in 2.0.7-3 and re-ran autoconf.
    Closes: #59038: samba: not compiled with cups support.
  * Fix against previous known/unknown user time difference patch to swat
    (make username / password lookups take the same time.) Remove CGI
    logging code in Swat.
    Closes: #76341 - Security holes in swat
  * Updated Build-depends.
  * Updated debian/copyright to refer to the correct location of the GPL.
  * debian/rules: changed DESTDIR to `pwd`/debian/samba (was
    `pwd`/debian/tmp.)
  * debian/rules: added '--sourcedir=debian/samba' to dh_movefiles (for some
    strange reason dh_installdirs is not creating debian/tmp/ so I needed
    to tweak everything to install stuff in debian/samba rather than in
    debian/tmp.)
  * debian/control: changed section of samba-docs to 'doc' (was 'docs')
  * Using relative symlinks in /usr/share/samba/swat/ (changed debian/rules
    and source/scripts/installswat.sh.)
  * Fixed (by tweaking debian/rules)
    /usr/bin/{smbmnt,smbumount-2.*,smbmount-2.*} to be suid.
  * Added "Provides: samba-client" to smbclient's section in control.
    Closes: #71143: smbclient: Smbclient should provide samba-client.
  * Fix for desired_access being zero in map_share_mode() (patch to
    source/smbd/nttrans.c.) Thanks to Gary Wilson
    <wilsong@sergievsky.cpmc.columbia.edu> for bringing this patch to my
    attention.
  * Hacked source/lib/util_sec.c so smbd works fine in both 2.0.x and
    2.2.x kernels even when the build is done in a system running
    a 2.2.x kernel.
    Closes: #78858: samba-common: samba2.0.7 needs kernel 2.2.x but
                    doesnt depend on it.
    Closes: #72758: README.Debian should comment on 2.0.x kernels.
    Closes: #56935: Samba 2.0.6 and Kernel 2.0.x.
    Closes: #58126: Samba 2.0.6 and Kernel 2.0.x -- more info.
    Closes: #60580: samba: failed to set gid.
    Closes: #64280: Samba panics, can't set gid.
    Closes: #66816: Must deal with brokenness under 2.0.x.
    Closes: #67682: potatoe samba 2.0.7-3 out of order, 2.0.5a-1 OK.
    Closes: #69735: PANIC: failed to set gid
    Closes: #66122: "smbclient -L localhost -U%" returns with "tree
                    connect failed: code 0".
    Closes: #57637: Samba says tree connect error.
    Closes: #58015: potato samba wins support is broken.
  * Fixed comments in sample smb.conf to point to the correct location.
    Closes: #69578: comments in smb.conf points to wrong path.
  * Move codepages from /etc/samba/codepages/ to
    /usr/share/samba/codepages/.
    Closes: #63813: samba; codepages should go in /usr/lib.
  * Moved /var/samba/ to /var/state/samba/.
    Closes: #49011: samba package not FHS compliant.
  * Hacked source/configure.in (and re-ran autoconf) so yp_get_default_domain()
    is found.
    Closes: #44558: netgroup support missing in samba 2.0.5a-1.
  * /etc/init.d/samba was calling start-stop-daemon with both --pidfile and
    --exec. Got rid of --exec so --pidfile works.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 11 Jan 2001 00:15:57 -0500

samba (2.0.7-3) frozen unstable; urgency=high

  * Release manager: this closes a RC bug.
  * Commented out the section in source/configure.in that auto-detects
    CUPS support and then ran autoconf to generate a new configure
    script. This was done to prevent machines that have libcupsys-dev
    installed from detecting CUPS support and adding an unwanted
    dependency on libcupsys. This way the whole printing system
    won't break on upgrades. CUPS support should be added after
    Potato is released.
    Closes: #65185: samba-common: Upgrading removes printing system.
    Closes: #64496: smbfs: smbfs on powerpc has a dependency on cupsys.
  * Updated README.debian.
    Closes: #64594: Old README.Debian in /usr/share/doc/samba.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 20 Jun 2000 19:16:04 -0400

samba (2.0.7-2) frozen unstable; urgency=high

  * Release manager: this closes RC bug #63839 that prevents Samba
    to be built from source.
  * Fixed a stupid typo in debian/rules that was preventing Samba
    to be built from source.
    Closes: #63839: samba_2.0.7-1(frozen): build error (SAMBABOOK dir)
  * I forgot to mention that O'Reilly's book "Using Samba" was donated
    to the Open Source community. The book was included in Samba 2.0.7
    in HTML format and is part of the Debian Samba package since 
    Samba 2.0.7-1.
  * In Samba 2.0.7-1, the "Using Samba" book and a number of HTML help
    files were supposed to be provided in both the swat and the samba-doc
    packages. This duplication was a waste of space. Starting with
    Samba 2.0.7-2, swat recommends samba-doc and the book and the HTML
    files are included only in samba-doc, and are accessed via symlinks
    from within swat.
    Closes: #58810: superfluous files in swat?
  * Added a 'echo "."' to /etc/init.d/samba in the reload) section.
    Closes: #63394: "echo ." missing in reload section of init.d script
  * Fixed typo in docs/htmldocs/using_samba/ch06_05.html.
    Closes: #64344: typo "encrypted passwords"
  * Cleaned up samba's postrm script so important common files aren't
    deleted when samba is purged. Created a samba-common.postrm script.
    Closes: #62675: purging samba removes /etc/samba/smb.conf.
    Closes: #63386: samba --purge removes /etc/samba dir even though
            smbclient/smbfs/samba-common packages are still installed

 -- Eloy A. Paris <peloy@debian.org>  Wed,  3 May 2000 02:42:07 -0400

samba (2.0.7-1) frozen unstable; urgency=low

  * New upstream version. Dear Release Manager: please allow this 
    package to go to frozen as it contains fixes to a _lot_ of problems.
    You can take a look at all the problems fixed by this release in
    the official upstream announcement at
    http://us1.samba.org/samba/whatsnew/samba-2.0.7.html.
  * Added --with-utmp to add utmp support to smbd (this is new in Samba
    2.0.7)
  * Closes: #62148 - samba not rotating filled logs.
  * Closes: #56711: Samba doesn't manage well long share name (please note
      that it's possible to connect to shares with names longer than
      14 characters but the share will be listed with a name truncated to
      13 characters.)
  * Closes: #51752 - NT DOMAIN - NET USE * /HOME not mapping (error 67).
    Closes: #50907 - logon path not working.
    This is not a bug, it's just Samba doing the same thing an NT server
    does. See WHATSNEW.txt and smb.conf's man page for details.
  * Closes: #48497 - error executing smbsh in debian-potato. (smbwrapper
    is not supported anymore.)
  * Closes: #58994 swat: typo in swat description.
  * Closes: #45931 - Samba dies with SIGILL on startup. (Hardware 
    problems, person that reported the bug never came back.)
    Closes: #54398 - smbadduser fails, looks for ypcat.
  * Fixed swat's man page to include Debian specific installation
    instructions. There's not necessary to edit /etc/services or 
    /etc/inetd.conf.
    (Closes: #58616 - incomplete install config && incorrect installation
      instructions.)
  * s/SBINDIR/\"/usr/sbin\"/g in source/web/startstop.c to prevent swat
    to look for smbd and nmbd in the wrong place when requested to start or
    stop smbd or nmbd.
    (Closes: #55028 - swat can't start samba servers.)
  * Closes: #37274: smbclient does not honour pot. (Tested and seems to be
    working now.)
  * Not confirmed, but should fix #56699, #62185, #56247, #52218, #43492,
    #50479, #39818, #54383, #59411.
    (please re-open any of this if the problem still exists - I was unable
    to confirm any of this because I could never reproduce them.)
    Closes: #56699 - Samba's nmbd causes random kernel oops several
      times in a row.
    Closes: #62185 - nmbd's forking until no more file descriptors are 
      available.
    Closes: #56247 - session setup failed: ERRSRV - ERRbadpw.
    Closes: #52218 - Either wins proxy does not work, or I don't understand
      it.
    Closes: #43492 - intermittent problem changing password.
    Closes: #50479 - Can't access windows 2000 shares with samba.
    Closes: #39818 - samba-common: Upgrading Samba from the Slink version.
    Closes: #54383 - samba-common: Missing /etc/smb.conf.
    Closes: #59411 - smbclient: cannot browse Win2k shares.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 27 Apr 2000 16:07:45 -0400

samba (2.0.6-5) frozen unstable; urgency=low

  * Oppsss! samba-common doesn't depend on libcupsys1 so the binaries
    in this package are broken unless libcupsys1 is installed.
    samba-common has a "grave" bug because of this. Instead of adding 
    libcupsys1 to the Depends: list of each package in debian/control
    I investigated why dh_shlibs was not picking the dependency
    automatically. It turns out that it's probably a bug in libcupsys1
    because the format of its shlibs file is not correct. I fixed that
    file (/var/lib/dpkg/info/libcupsys1.shlibs) and now dependencies are
    picked correctly. I'll talk to the libcupsys1 maintainer.

    I think the addition of CUPS support to Samba is a big change that
    should not go into Frozen. So, I decided to back up the addition
    of CUPS support I did in 2.0.6-4 to minimize problems. I'll add
    CUPS support again when I start working on Samba for Woody.
    (Closes: #59337 - samba-common has a missing dependency)

 -- Eloy A. Paris <peloy@debian.org>  Wed,  1 Mar 2000 08:40:02 -0500

samba (2.0.6-4) frozen unstable; urgency=low

  * It seems that sometimes nmbd or smbd are not killed when upgrading.
    I think it is because in samba's prerm script I was calling
    start-stop-daemon with the --pidfile switch and in old versions of
    Samba the nmbd and smbd daemons did not store their PIDs in a file in
    /var/samba/. I changed debian/samba.prerm so the existence of the
    PID files is checked before calling "start-stop-daemon --pidfile ..."
    If the PID files do not exist then start-stop-daemon is called
    without the --pidfile parameter.
    (Closes: #58058 - upgrade from slink went badly)
  * Fixed typo in description of swat package in debian/control.
  * Installed libcupsys1-dev so the configure script picks up CUPS
    and Samba is compiled with CUPS support. Also added libcupsys1 to
    the Depends: list of package samba in debian/control.
    (Closes: #59038 - samba not compiled with cups support)
  * Added a small paragraph to debian/README.debian warning about possible
    problems with the WINS code in Samba 2.0.6.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 28 Feb 2000 14:00:42 -0500

samba (2.0.6-3) frozen unstable; urgency=low

  * Applied patch posted by Jeremy Allison to the samba mailing list
    that should take care of the internal errors reported in bug #52698
    (release-critical). Wichert: please test as I never could reproduce
    it here.
    (Closes: #52698 - samba gets interbal errors)
  * Moved samba-docs to the 'docs' section.
    (Closes: #51077 - samba-doc: wrong section)
  * Added reload capability to /etc/init.d/samba (only for smbd because
    nmbd does not support reloading after receiving a signal).
    (Closes: #50954 - patch to add reload support to /etc/init.d/samba)
  * Corrected "passwd chat" parameter in sample /etc/samba/smb.conf so
    Unix password syncronization works with the passwd program currently
    in Potato. Thanks to Augustin Luton <aluton@hybrigenics.fr> for
    the correct chat script.
  * Stole source/lib/util_sec.c from the CVS tree of what will become
    Samba 2.0.7 or whatever so we can use the same binaries under
    both 2.0.x and 2.2.x kernels.
    (Closes: #51331 - PANIC: failed to set gid)
  * smbadduser is now provided as an example and it's customized for Debian.
    I am not providing this script in /usr/sbin/ because then I would need
    a dependency on csh, something that I don't want to do.
    (Closes: #51697, #54052)
  * Fixed the short description of the smbfs package in debian/control.
    (Closes: 53534 - one-line description out of date).

 -- Eloy A. Paris <peloy@debian.org>  Tue, 23 Nov 1999 16:32:12 -0500

samba (2.0.6-2) unstable; urgency=low

  * samba-common now depends on libpam-modules (not on libpam-pwdb, which
    I have been told is obsolete). I modified /etc/pam.d/samba accordingly
    to reflect the change.
    (Closes: Bug#50722: pam pwdb dependence?).
  * The old /etc/pam.d/samba file which had references to pam_pwdb caused
    smbd to die with a signal 11. The new /etc/pam.d/samba file fixes
    this problem.
    (Closes: #50876, #50838, #50698)
  * Compiled with syslog support (use at your own risk: syslog support
    is still experimental in Samba). I added the parameters "syslog = 0"
    and "syslog only = no" to the sample smb.conf to avoid pestering
    users that do not want Samba to log through syslog.
    (Closes: Bug#50703 - syslog only option doesn't work)
  * Removed the stupid code in the smbmount wrapper script that tries
    to load the smbfs module if smbfs is not listed in /proc/filesystems.
    (Closes: Bug#50759 - Non-root can't run smbmount if SMBFS is compiled
    as a module in the kernel)
  * Added /bin/mount.smb as a symlink pointing to /usr/bin/smbmount so
    'mount -t smb ...' works just as 'mount -t smbfs ...'.
    (Closes: Bug#50763 - 'mount -t smb' doesn't work)

 -- Eloy A. Paris <peloy@debian.org>  Sat, 20 Nov 1999 18:53:35 -0500

samba (2.0.6-1) unstable; urgency=low

  * Samba 2.0.6 has been released. This is the first try of the Debian
    Samba packages. I know for sure that smbd won't work properly on
    2.0.x kernels because the patch that Wichert sent me does not apply
    to the new source/lib/util_sec.c in Samba 2.0.6. That file was
    completely re-written by Tridge.
  * Updated README.Debian.
  * A new client utility called smbspool appeared in Samba 2.0.6. I added
    this utility to the smbclient package, although I haven't tried it yet.
  * Added the symlink /sbin/mount.smbfs that points to /usr/bin/smbmount.
    This is to be able to type "mouont -t smbfs ...". This symlink goes
    in the smbfs package, of course.
  * This new release should close the following bugs (some of these
    are fixed for sure in this new upstream release, some others I could
    not reproduce but I believe they are fixed if they were real bugs.
    As always, please feel free to re-open the bugs if the problem is not
    solved).
      Closes: Bug#33240: icmp mask needs a bug workaround.
      Closes: Bug#37692: samba: Has problems detecting interfaces.
      Closes: Bug#38988: samba: Truly bizzare behavour from nmbd.
      Closes: Bug#46432: samba-2.0.5a-2: nmbd does not appear to broadcast
                          properly.
      Closes: Bug#44131: smbfs: no longer possible to set file and
                          directory-modes.
      Closes: Bug#46992: smbmount-2.2.x manpage wrong.
      Closes: Bug#42335: smbfs: missing options from the new 2.2.x commandline.
      Closes: Bug#46605: smbmnt segfaults.
      Closes: Bug#48186: smbmount.
      Closes: Bug#38040: smbfs: Please add /sbin/mount.smb [included].
      Closes: Bug#47332: smbmount: could -f and -P be added back?
  * Samba has been compiled with PAM support (closes: Bug#39512 - samba PAM
    module). To succesfully add PAM support, I created /etc/pam.d/samba and
    added this file as a conffile for the samba-common package. I also made
    samba-common depend on libpam-pwdb.
  * Added simple man pages for the wrapper scripts smbmount and smbmount.
    (Closes: Bug#44705 - Missing smbmount man page)
  * Installed libreadlineg2-dev in my system so smbclient now has a
    "history" command and libreadline support :-)
  * This time I did add a check to the smbmount wrapper script to see if
    the kernel has support for smbfs, as suggested by Jeroen Schaap
    <J.Schaap@physiology.medfac.leidenuniv.nl>. I mentioned in the changelog
    for samba-2.0.5a-3 that I did this but I forgot at the end.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 11 Nov 1999 12:08:15 -0500

samba (2.0.5a-5) unstable; urgency=low

  * I am sorry to report that the smbwrapper package is gone for the
    moment. The reason for this is twofold: first of all, smbwrapper
    is completely broken in Samba-2.0.5a (it compiles but it doesn't
    run) and in the upcoming Samba-2.0.6 it doesn't even compile. Second,
    when I asked Andrew Tridgell (father of Samba) about the state of
    smbwrapper he told me that Ulrich Drepper (head of the glibc project)
    broke on purpose the glibc stuff in which smbwrapper is based.
    Consequently, Tridge recommended me to compile Samba without
    support for smbwrapper. When, I have no idea. Sorry folks. Here is
    the original message I received from Andrew:
    
    > 1) 2.0.5a's smbwrapper doesn't work under glibc2.1, and pre-2.0.6's
    > smbwrapper doesn't even compile under glibc2.1.
    
    yep, Ulrich deliberately broke it. It won't get fixed till glibc
    allows the sorts of games it plays to work again. I suggest you turn
    it off in your build scripts until that gets sorted out.
    
  * Swat's file are now in /usr/share/samba/ instead of
    /usr/lib/samba/ (bug #49011).
  * Man pages now in /usr/share/man/ instead of /usr/man/ (bug #49011).

 -- Eloy A. Paris <peloy@debian.org>  Tue,  2 Nov 1999 12:59:13 -0500

samba (2.0.5a-4) unstable; urgency=low

  * Applied patch from our fearless leader (Wichert) to fix the darn bug
    that prevents Samba to work on 2.0.x kernels if it was compiled
    in a system running a 2.2.x kernel. This closes #40645 (build uses
    setresuid which doesn't work under 2.0.34 (does apparently under
    2.2.x) ).
  * Fixed the entry that swat's postinst script adds to /etc/inetd.conf
    so it is '#<off># swat\t\tstream\ttcp\tnowait.400 ...' instead of
    '#<off>#swat\t\tstream\ttcp\tnowait.400 ...'. The old way caused
    'update-inetd --enable swat' to leave the entry for swat disabled.
    Thanks to Dave Burchell <burchell@inetnebr.com> for finding out
    this problem. This closes #48762 (swat uses non-standard syntax to 
    comment out inetd.conf entry).
  * /usr/sbin/swat does not think anymore that the smbd daemon lives
    in /usr/local/samba/bin/. To fix this I am running now source/configure
    with "--prefix=/usr --exec-prefix=/usr". This closes #47716 (samba
    'swat' fails: incorrect hardwired path in the binary).

 -- Eloy A. Paris <peloy@debian.org>  Sun, 31 Oct 1999 03:42:38 -0500

samba (2.0.5a-3) unstable; urgency=low

  * I am pretty darn busy with my MBA, I apologize for the long time it's
    taking to squash bugs in the Samba packages.
  * Built with debhelper v2 for FHS compliancy. Changed a couple of
    things in debian/rules to accomodate for the new place for the docs.
    I also had to change debian/{samba.postinst,samba.prerm,swat.postinst}
    to make sure that the symlink from /usr/doc/xxx exists and points to
    /usr/share/doc/xxx (the reason for this is that I am not letting
    debhelper to create these scripts for me automatically).
  * Built with latest libc6.
  * smbfs: finally, the nasty bug that causes smbmount to die after
    a while is gone thanks to Ben Tilly <Ben_Tilly@trepp.com>.
    The problem was just a typo in source/client/smbmount.c.
    This closes grave bug #42764 (smbmount dies) and #43341 
    (smbfs-2.2.x won't function after a while).
  * Fixed the smbmount wrapper script to eliminate a bashism (closes
    #45202 - "wrapper scripts use $* instead of "$@") and to recognize 
    2.3.x and 2.4.x kernels (closes #47688 - "smbfs: does not recognize 
    kernel 2.3.x").
  * Added a check to the smbmount wrapper script to see if the
    kernel has support for smbfs, as suggested by Jeroen Schaap
    <J.Schaap@physiology.medfac.leidenuniv.nl>.
  * swat's man page is now part of the swat package, not of the samba
    package. This closes #44808 (Samba has a man page for swat, but 
    the binary is not included).
  * The interface program smbrun is not longer needed by smbd because
    of the availability of execl() under Linux. Because of this, the
    smbrun is not even being compiled. Since there is no need for smbrun
    now, the smbrun man page was taken out of the samba package. This
    closes #45266 (/usr/bin/smbrun missing).
  * smbpasswd is now part of the samba-common package, and not part of
    the samba package. This is to let administrators that do not want
    to install a full Samba server administer passwords in remote
    machines. This closes bug #42624 (smbpasswd should be included in 
    smbclient). This bug report also suggests that swat becomes part of 
    the samba package, that smbfs becomes part of the smbclient package,
    and that the binary smbpasswd becomes part of the smbclient package.
    I moved smbpasswd to the samba-common package but I am reluctant to 
    do the other things the bug report suggests.
  * In order to keep dpkg happy when moving smbpasswd from the samba
    package to samba-common, I had to add a "Replaces: samba (<= 2.0.5a-2)"
    in the control section of the samba-common package and a
    "Replaces: samba-common (<= 2.0.5a-2)" in the control section of the
    samba package (in debian.control).
  * Samba is now being compiled with the "--with-netatalk" option. This
    closes #47480 (Could samba be compiled with the --with-netatalk option).
  * All packages that depend on samba-common have a versioned dependency
    now. This was accomplished by adding "(= ${Source-Version})" to the
    relevant sections of debian/control. Thanks t Antti-Juhani Kaijanaho
    <gaia@iki.fi> for the hint. This closes #42985 (samba should probably
    have a versioned depends on samba-common).
  * Made sure the file docs/textdocs/DIAGNOSIS.txt gets installed in all
    the Samba packages. This closes bug #42049 (no DIAGNOSTICS.txt file).
  * Added the smbadduser helper script to the samba package. This closes
    #44480 (Samba doesn't come with the smbadduser program).
  * Applied patch from szasz@triton.sch.bme.hu that prevents smbmount
    to leave an entry in /etc/mtab for a share that could not be mounted
    because of invalid user of password. The patch also allows smbumount
    to unmount the share in the event that something goes wrong with the
    smbmount process. This closes bug #48613 (Mount/umount problems + 
    patch) as well as #44130 (failed mount is still mounted).
  * smbmount-2.2.x is now setuid root. This is needed for the patch
    applied above to be effective. If smbmount-2.2.x is not setuid root
    then an entry will be left in /etc/mtab even when the mount
    fails. I had to add "usr/bin/smbmount-2.2.x" to debian/smbfs.suid
    for this to work.

 -- Eloy A. Paris <peloy@debian.org>  Wed, 27 Oct 1999 10:36:13 -0400

samba (2.0.5a-2) unstable; urgency=low

  * This version is basically the same as 2.0.5a-1 but it was compiled
    on a Potato system with glibc2.1. See below the change log for 2.0.5a-1
    for more information.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 27 Jul 1999 02:25:29 -0400

samba (2.0.5a-1) stable; urgency=high

  * I'm back from the Honey Moon. We are pretty busy because we are moving
    to Pittsburgh (from Caracas, Venezuela) in aprox. 24 hours and we still
    have plenty of things to pack and to do. Samba 2.0.5 was released
    while I was in the Honey Moon and it is just now (almost 3 AM) when
    I have time to package it.
  * Because of the security problems fixed in 2.0.5, this upload goes
    to both stable and unstable (the Security Team asked for this).
  * This release (2.0.5a-1) was compiled on a Slink system. 2.0.5a-2 will
    be compiled on a Potato system.
  * Added a "Replaces: samba (<= 1.9.18p10-7)" to the samba-common
    section in debian/control (as suggested by Steve Haslam
    <araqnid@debian.org>) to fix the problems that appear when upgrading 
    from the Samba package in Slink. Please test this as I am completely 
    unable to do so. This should fix bug #39818 (Upgrading Samba from the 
    Slink version).
  * Removed the hacks to the autoconf stuff that I added to 2.0.4b-2 in 
    order to have defined several socket options when compiling with
    Linux 2.2.x kernel headers - the fix is now upstream.
  * Finally!!! smbmount was re-written (thanks Tridge :-) to use a command
    line syntax similar to the one used by the old smbmount (for 2.0.x 
    kernels). This means that the wrapper script is no longer necessary
    so I removed it. In its place there is a simple wrapper script that
    calls smbmount-2.0.x or smbmount-2.2.x depending on the kernel that is
    running.
  * Because of the wedding, the Honey Moon, and our move to Pittsburgh,
    I can't work on fixing other bugs in this release.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 27 Jul 1999 02:18:51 -0400

samba (2.0.4b-3) unstable; urgency=low

  * Stupid mistake: I forgot to add /usr/bin/smbumount to debian/smbfs.files
    and because of this /usr/bin/smbumount was part of the samba package
    instead of part of the smbfs package.

 -- Eloy A. Paris <peloy@debian.org>  Thu,  1 Jul 1999 01:51:24 -0400

samba (2.0.4b-2) unstable; urgency=low

  * Dark (and archive maintainers): please remove from Potato the smbfsx 
    binary package and also the old source package for smbfs. smbfs and 
    smbfsx have been merged starting with this version.
  * Merged the old smbfs package with Samba. Now there is only one package
    for the smbfs utilities and is called "smbfs". The package smbfsx
    does not exist any more and this new smbfs package must be used
    for both 2.0.x and > 2.1.x kernels.
  * A wrapper script was added to handle the syntax change in smbmount
    in the new smbfs utilities (required for kernels > 2.1.70). The
    home page for this script is http://www.wittsend.com/mhw/smbmount.html.
    Please _note_ that this will change (for good) in Samba 2.0.5 :-)
  * Added debian/smbumount.sh. It's another wrapper that calls smbumount-2.2.x
    or smbumount-2.0.x depending on the kernel currently running.
  * Not using -t for savelog in cron.weekly script.
  * Recompiled without libreadlineg-dev (Samba does not seem to be using
    it so unnecessary dependencies are produced).
  * glibc2.1 build.
  * Removed smbpasswd.8 man page from the debian/ directory because it is
    now being provided upstream.
  * Got rid of the ugly hack I put in source/lib/util_sock.c to have
    IPTOS_LOWDELAY and IPTOS_THROUGHPUT defined. Now I patched the
    autoconf stuff to #include <netinet/ip.h>. I've sent the patch to
    Jeremy Allison so we have this upstream.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 28 Jun 1999 17:47:19 -0400

samba (2.0.4b-1) unstable; urgency=low

  * New upstream release. This release fixes the following Debian bugs:
    #33838 (Amanda/ Samba 2.0.2 and backing up large filesystems) and
    #33867 (Amanda 2.4.1 and Samba 2.0.2 and large filesystems). Jeremy
    Allison released Samba 2.0.4 and found out that there were a couple
    of minor bugs so he released 2.0.4a. Then he found out about more
    serious bugs and released 2.0.4b. I have built this package several
    times between yesterday and today because of this. Now I am releasing
    the Debian packages for Samba with what I believe will be the latest
    release the Samba Team will make at least in the next 4 days (Jeremy
    is taking a short vacation).
  * Still compiling against glibc2.0 (sorry about that :-)
  * Hacked source/smbwrapper/smbsh.c to fix the problem
    of smbsh not finding the shared library smbwrapper.so. It looks
    now in /usr/lib/samba/ for this file. This fixes #32971, #32989,
    #33278, #34911 and #36317.
  * Made smbfsx depend on samba-common because smbfsx uses /etc/samba/smb.conf
    and /etc/samba/codepages/. This fixes #33128 (smbmount complains about
    missing /etc/smb.conf).
  * Package swat does not depend on httpd anymore (there's no need to).
    This fixes #35795 (swat requires httpd).
  * Renamed smbmount-2.1.x and smbumount-2.1.x to smbmount-2.2.x and
    smbumount-2.2.x. Same applies to the man pages.
  * Changed minor type in smbmount's man page (changed "\"" by "\'"). This
    fixes #34070 (wrong quotes in manpage).
  * Used Fabrizio Polacco's <fpolacco@icenet.fi> procedure to create the
    Debian package for Samba. This closes #35781 (samba has no pristine 
    source).
  * Changes to /etc/cron.weely/samba: rotate /var/log/{nmb,smb}.old only
    if the size of either is different than 0. Also, added comments at the
    beginning of this script to explain how rotation of log files works in
    Samba. Thanks to ujr@physik.phy.tu-dresden.de (Ulf Jaenicke-Roessler)
    for the suggestions. This closes #37490 (cron.weekly script rotates not
    used [sn]mb.old files). As I side effect, this should also close
    #31462 (still trouble with /etc/cron.weekly/samba).
  * Check for old /etc/pam.d/samba file which is not provided by this version
    of the Debian Samba package but was provided in older versions. If this
    file exists we delete it. We check for this in the postinst. This closes
    #37356 (samba put stuff in pam.d that pam complains about) and #34312 
    (libpam0g: questions during upgrade).
  * Make sure the mode of /etc/samba/smbpasswd is set to 600. This is done
    in the postinst script. This closes #35730 (Security problem with 
    /etc/samba/smbpasswd when upgrading from samba 1.9.18p8-2 to 2.0.3-1).
  * I have just checked and it looks like #28748 (smbfsx doesn't "return ")
    has been fixed. This might have been fixed since a long time ago.
  * Long long standing bug #18488 (smbclient: internal tar is broken) is
    closed in this release of Samba. The bug might have been closed for a 
    long long time, but I did not check for this before.
  * Temporary fix to the annoying "Unknown socket option IPTOS_LOWDELAY"
    message. This fixes #33698 (socket option IPTOS_LOWDELAY no longer works),
    #34148 (warnings from smbd) and #35333 (samba warnings).

 -- Eloy A. Paris <peloy@debian.org>  Thu, 20 May 1999 00:35:57 -0400

samba (2.0.3-1) unstable; urgency=low

  * New upstream version.
  * Removed the convert_smbpasswd.pl program I created and put in
    /usr/doc/samba/ because there's a convert_smbpasswd script in the
    upstream sources that does the same thing. I modified the postinst
    script to use this script instead of the one I created.

 -- Eloy A. Paris <peloy@debian.org>  Sun, 28 Feb 1999 01:35:37 -0400

samba (2.0.2-2) unstable; urgency=low

  * Updated the README.Debian file.
  * Updated the description of the samba package in the control file.
  * The binaries smbmnt and smbumount-2.1.x in the smbfsx package are now
    installed setuid root as they should be. This was done by doing a
    a "chmod u+s" for each binary in debian/rules and by creating the 
    file debian/smbfsx.suid.
  * Minor patch to source/client/smbumount.c to allow normal users
    to umount what they have mounted (problem was a kernel vs. libc6
    size mismatch). I sent the patch upstream.
  * Created debian/smbwrapper.dirs so the directory /usr/lib/samba/ is
    created.
  * Modified debian/rules to move smbwrapper.so from debian/tmp/usr/bin/ to
    debian/smbwrapper/usr/lib/samba/.
  * Hacked source/smbwrapper/smbsh.c to fix the problem
    of smbsh not finding the shared library smbwrapper.so.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 11 Feb 1999 18:11:34 -0400

samba (2.0.2-1) unstable; urgency=low

  * New upstream version.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 11 Feb 1999 01:35:51 -0400

samba (2.0.1-1) unstable; urgency=low

  * New upstream version.

 -- Eloy A. Paris <peloy@debian.org>  Sat,  6 Feb 1999 06:51:18 -0400

samba (2.0.0final-4) unstable; urgency=low

  * The samba postinst made an unwarranted assumption that the file
    /etc/samba/smbpasswd exists. If the file did not exist (which is
    perfectly valid) the postinst will fail. This fixes #32953.

 -- Eloy A. Paris <peloy@debian.org>  Fri,  5 Feb 1999 23:32:46 -0400

samba (2.0.0final-3) unstable; urgency=low

  * Added to debian/control a "Depends: ${shlibs:Depends}" line for the
    samba-common package so dependencies for this package are set
    correctly (thanks to Dark for pointing this out).

 -- Eloy A. Paris <peloy@debian.org>  Thu,  4 Feb 1999 09:45:21 -0400

samba (2.0.0final-2) unstable; urgency=low

  * Finally!!! The first upload to unstable. Sorry for the delay folks
    but I have been quite busy lately :-) Another reason for the delay
    is that I wanted to ease the migration from Samba 1.9.18p10 and
    before to Samba 2.0.0. I changed the location of the config. files 
    from /etc/ to /etc/samba/ and this made things a little bit harder.
  * This package needs 2.2 kernel headers to compile (well, this is
    true for the smbfsx package, all others compile fine with 2.0 kernel
    headers).
  * Created a preinst script for the samba package to take care of the
    location migration of smb.conf (from /etc/ to /etc/samba/). The
    preinst script also takes care of moving /etc/smbpasswd to its new
    location (/etc/samba/).
  * Created postinst and postrm scripts to add/remove an entry for swat
    in /etc/inetd.conf.
  * I had forgotten to install the sambaconfig script so I changed
    debian/rules to install this script.
  * Added a postrm script for the samba package (I had forgotten to add 
    this script to the new Samba packages after the migration from 1.9.18 
    to 2.0.0).
  * Created a small Perl script that is called from the samba postinst
    to convert the smbpasswd from the old format used in version prior
    to 2.0.0 to the new one used in 2.0.0 and beyond.
  * The upgrade process should be automatically now. Please let me know
    of any problems you encounter.

 -- Eloy A. Paris <peloy@debian.org>  Sat, 23 Jan 1999 09:34:10 -0400

samba (2.0.0final-1) experimental; urgency=low

  * Finally!!! Samba 2.0.0 is here! I am not uploading to unstable
    because I still have to work out the migration from the old
    samba packages to the new ones. I also need to work more on the
    new swat package.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 14 Jan 1999 22:40:02 -0400

samba (2.0.0beta5-1) experimental; urgency=low

  * New upstream version.

 -- Eloy A. Paris <peloy@debian.org>  Tue,  5 Jan 1999 00:37:57 -0400

samba (2.0.0beta4-1) experimental; urgency=low

  * New upstream version.

 -- Eloy A. Paris <peloy@debian.org>  Wed, 23 Dec 1998 18:37:45 -0400

samba (2.0.0beta3-1) experimental; urgency=low

  * New upstream version.
  * I have just realized that the documentation patches (for man pages)
    that I used for the 1.9.18 release are not longer necessary because
    there was a major re-write of all the Samba documentation that added
    the missing bits of information. So, I have just removed these minor
    patches.

 -- Eloy A. Paris <peloy@debian.org>  Tue,  8 Dec 1998 12:00:30 -0400

samba (2.0.0beta2-1) experimental; urgency=low

  * New upstream version.
  * This new version fixes the potential security problem that
    was posted to debian-private (using the "message command" parameter
    to execute arbitrary commands from messages sent from LinPopUp).
  * Changed /etc/init.d/samba to use one of the variables stored in
    /etc/samba/debian_config to know how Samba is being run (from inetd or
    as daemons) instead of grepping /etc/inetd.conf which may not exist
    if the user is running xinetd (this fixes bug #29687 - assumes using 
    vanilla inetd)

 -- Eloy A. Paris <peloy@debian.org>  Mon, 23 Nov 1998 23:32:03 -0400

samba (2.0.0beta1-1) experimental; urgency=low

  * First beta release of the samba-2.0.0 code. Before the beta I was
    working with sources downloaded directly from the CVS server. This
    package goes into experimental and I plan to release the new
    samba to unstable as soon as it gets out of beta.
  * Created several packages out of the Samba sources. They are:
    samba (nmbd and smbd daemons + related programs), smbclient (FTP
    like command line utility to retrieve files from SMB servers),
    swat (Samba Web Administration Tool), samba-common (common files
    used by samba, smbclient and swat), smbfsx (smbfs utilities for
    kernels >= 2.1.70), smbwrapper and samba-doc (Samba documentation).
  * Refreshed debian/samba-doc.docs so recently added docs. are
    installed in the samba-doc package. New additions include man
    pages in the /usr/doc/samba-doc/htmldocs/ directory.
  * Deleted Debian specific nmblookup(1) man page as it is now upstream.
  * Added smbtorture to smbclient package.
  * Moved rpcclient from the samba package to the smbclient package.
  * The Samba daemons (nmbd and smbd) now create a PID file so I changed
    all calls to start-stop-daemon to use the PID file.
  * Fixed debian/rules to install mksmbpasswd (fixes #27655).
  * Modified /etc/init.d/samba so nmbd is started without the -a (append
    to the log file instead of overwrite) switch. The new behavior of
    nmbd is to NOT overwrite log files, so the -a switch can be deleted
    safely.
  * Moved from debstd to debhelper.

 -- Eloy A. Paris <peloy@debian.org>  Thu,  1 Oct 1998 08:37:41 -0400

samba (1.9.18p10-5) frozen unstable; urgency=high

  * Oppsss!!! While fixing bug #26884 I introduced a bug even worse than
    the one I was trying to fix: in /etc/init.d/samba I got rid of the test
    that tells us whether the Samba daemons are running from inetd or as
    standalone daemons. I corrected the problem by editing again
    /etc/init.d/samba to uncomment the test.
  * Wishlist bug #28298 (typos in samba) was fixed.
  * Wishlist bug #28309 (typos in smb.conf) was fixed.

 -- Eloy A. Paris <peloy@debian.org>  Wed, 28 Oct 1998 09:11:47 -0400

samba (1.9.18p10-4) unstable; urgency=low

  * Minor patch to debian/rules to delete *substvars instead of only
    substvars when doing a "debian/rules clean" (thanks to Daniel Jacobowitz
    <dmj@andrew.cmu.edu> for this).
  * Small patch to source/shmem_sysv.c that eases compilation under
    glibc-2.1 (thanks to Daniel <dmj@andrew.cmu.edu> for this).

 -- Eloy A. Paris <peloy@debian.org>  Thu, 17 Sep 1998 15:33:49 -0400

samba (1.9.18p10-3) unstable; urgency=low

  * Patched smbclient again to fix minor formatting problem introduced
    by Magosanyi Arpad's smbclient patch.

 -- Eloy A. Paris <peloy@debian.org>  Thu,  3 Sep 1998 11:03:23 -0400

samba (1.9.18p10-2) unstable; urgency=low

  * Sync'ed include files for the smbfs utilities with the ones in
    kernel 2.1.119.
  * Added to the /usr/doc/samba/examples/ directory a new script called 
    wins2dns (courtesy of Jason Gunthorpe <jgg@deltatee.com>) that 
    generates BIND sonze files for hosts in the WINS database.
  * Patched smbclient to include enhancements by Magosanyi Arpad 
    <mag@bunuel.tii.matav.hu> that make scripting easier.

 -- Eloy A. Paris <peloy@debian.org>  Fri, 28 Aug 1998 13:34:54 -0400

samba (1.9.18p10-1) stable unstable; urgency=low

  * New upstream version (see /usr/doc/samba/WHATSNEW.txt for a
    description of what has changed). I built a 1.9.18p9-1 but I
    never released it because an obscure bug was found just a couple
    of days before the official release, so the Samba Team stopped
    the rollover of 1.9.18p9.
  * Updated documentation (new files were added to the docs/ directory
    that were not installed in /usr/doc/samba/).
  * Fixed long standing bug #7695 (smb.conf's man page doesn't document
    'printing=lprng') - I made a couple of changes to the man page to 
    include references to lprng.
  * Fixes bug #24930 (samba needs to suggest psmisc?). I don't think it
    is necessary to make samba suggest psmisc just because the postinst
    script mentions to call killall. So, I removed all references to
    "killall" in the scripts.
  * Fixes bug #25999 (Samba does not by default work with unix password
    sync): I added the "passwd program" and "passwd chat" parameters to
    the sample smb.conf to reflect the Debian environment.

 -- Eloy A. Paris <peloy@debian.org>  Fri, 21 Aug 1998 08:59:18 -0400

samba (1.9.18p9-1) unstable; urgency=low

  * New upstream version (see /usr/doc/samba/WHATSNEW.txt for a
    description of what has changed).
  * Removed Jeremy Allison's patch applied to 1.9.18p8-2 because it is
    now part of the new upstream version.
  * Corrected small typo in addtosmbpass' man page (fixes #25629).

 -- Eloy A. Paris <peloy@debian.org>  Tue, 11 Aug 1998 08:53:08 -0400

samba (1.9.18p8-2) frozen unstable; urgency=medium

  * Applied patch received from Jeremy Allison (Samba Team) that fixes
    "grave" bug #23903 (samba maps username before authenicating with 
    NT password server).
  * Added a "sleep 2" between "start-stop-daemon --stop" and
    "start-stop-daemon --start" in /etc/init.d/samba so when this script
    is called with the "restart" parameter the Samba daemons are restarted
    properly. This fixes bug #24211 (init.d script doesn't restart).
  * Sent start-stop-daemon output in /etc/init.d/samba to /dev/null to
    avoid annoying warning messages.
  * Added perfomance tune parameters to sample /etc/smb.conf (SO_SNDBUF=4096
    and SO_RCVBUF=4096 to "socket options" in /etc/smb.conf). I can't
    find who sent this suggestion to me. If you are listening, drop me a
    note and I'll put your name here :-)

 -- Eloy A. Paris <peloy@debian.org>  Mon, 29 Jun 1998 08:45:01 -0400

samba (1.9.18p8-1) frozen unstable; urgency=low

  * New upstream release that fixes _lots_ of "ugly" bugs. The list of
    fixed bugs is too long to include here (see /usr/doc/samba/WHATSNEW.txt).
  * Fixed postinst to quote arguments to if [ arg .. ] constructs
    (fixes #22881).
  * Applied Jeremy Allison's patch (posted to the samba-ntdom mailing
    list) that solves a problem with username maps (the Samba Team did
    not catch this problem before final 1.9.18p8).
  * Made /etc/init.d/samba to print out a warning when Samba is running
    from inetd and the user runs /etc/init.d/samba to start|stop|restart
    Samba (there's no point on doing this because inetd will start the
    daemons again when there is traffic on UDP port 137-139).

 -- Eloy A. Paris <peloy@debian.org>  Sat, 13 Jun 1998 00:18:25 -0400

samba (1.9.18p7-4) frozen unstable; urgency=medium

  * Fixes the serious problem of having the WINS name server
    database getting deleted at boot time. That happened because the
    WINS database was being stored under /var/lock/samba/ and all files
    under /var/lock/ are deleted at boot time. The place where the WINS
    database is stored was moved to /var/samba/.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 18 May 1998 20:24:29 -0400

samba (1.9.18p7-3) stable; urgency=high

  * Libc5 version for Bo (stable) that fixes the recently reported
    security hole.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 18 May 1998 20:19:33 -0400

samba (1.9.18p7-2) frozen unstable; urgency=low

  * Added patches from the non-mantainer upload that make us able
    to compile Samba on Alpha systems. This fixes bug #22379.

 -- Eloy A. Paris <peloy@debian.org>  Wed, 13 May 1998 20:38:51 -0400

samba (1.9.18p7-1) frozen unstable; urgency=low

  * New upstream release (just bug fixes, no new functionality).

 -- Eloy A. Paris <peloy@debian.org>  Wed, 13 May 1998 11:47:32 -0400

samba (1.9.18p6-2) frozen unstable; urgency=low

  * Uploaded to frozen (I forgot to upload last version to frozen
    so it got installed only in unstable).

 -- Eloy A. Paris <peloy@debian.org>  Tue, 12 May 1998 18:10:17 -0400

samba (1.9.18p6-1.1) unstable; urgency=low

  * non-maintainer upload for Alpha
  * patch needed for source/quota.c (_syscall4() confusion)

 -- Paul Slootman <paul@debian.org>  Tue, 12 May 1998 20:39:13 +0200

samba (1.9.18p6-1) unstable; urgency=low

  * New upstream release that fixes a possible buffer overflow.
    This security hole was reported on BugTraq by Drago. The
    previous Debian version (1.9.18p5-1) was not released because
    1.9.18p5 and 1.9.18p6 were released very closely.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 11 May 1998 20:28:33 -0400

samba (1.9.18p5-1) unstable; urgency=low

  * New upstream release (no new funcionality, just bug fixes - see 
    /usr/doc/samba/WHATSNEW.txt.gz).
  * Backed off Debian patches that were added upstream.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 11 May 1998 08:43:53 -0400

samba (1.9.18p4-2) frozen unstable; urgency=low

  * Patched smbclient(1) man page to not reference the unsopported
    -A parameter (fixes #6863).
  * Changes to start nmbd with the -a option (in /etc/init.d/samba
    and in the entry added to /etc/inetd.conf).
  * Fixed typo in sample smb.conf (fixes #21484).
  * Fixed yet another typo in sample smb.conf (fixes #21447).
  
 -- Eloy A. Paris <peloy@debian.org>  Fri, 17 Apr 1998 22:19:23 -0400

samba (1.9.18p4-1) frozen unstable; urgency=low

  * New upstream version that fixes several bugs.
  * New scheme for keeping track of Debian specific configuration.
    This new scheme fixes bug #18624 (Samba always asks the user about
    configuration options). New scheme stores Debian specific
    configuration information in /etc/samba/debian_config.
  * Changes to /usr/sbin/sambaconfig, prerm and postinst to support the 
    new configuration scheme.
  * Moved required kernel 2.1.x include files inside the source tree
    so I don't have to do very nasty things like creating crazy
    symlinks in /usr/include to make this package compile. This
    allows non-root users to build the package and fixes bug
    #20104.
  * Fixed address of the FSF in /usr/doc/samba/copyright (problem
    reported by lintian).
  * The /etc/init.d/samba script now supports the force-reload
    argument, as required by the policy (problem reported by lintian).
  * Added a "rm /etc/cron.weekly/samba" at the end of the postinst.
  * Now the samba package can be installed even if no nmbd or smbd processes 
    are running. This fixes the following bugs: #8917, #9334, #10268, 
    #10411, #11146 and #13387.
  * Provides the original README in /usr/doc/samba. This fixes bug #9693.
  * Added a --no-reload option to sambaconfig to not reload Samba
    after configuration.
  * Created man pages for sambaconfig(8), addtosmbpass(8),
    mksmbpasswd(8) and nmblookup(1).
  * Corrected small typo in sample /etc/smb.conf.
  * Added two new parameters to /etc/smb.conf: "preserver case" and
    "short preserve case".
  * "rm -Rf /var/lock/samba" in postrm when package is being purged.
  * Patched upstream source (nmbd.c) to not overwrite log files when
    nmbd is called with the -a parameter (fixes #17704: nmbd ignores
    -a option).
  * /etc/init.d/samba now starts the nmbd daemon with the -a parameter
    to not overwrite log files.

 -- Eloy A. Paris <peloy@debian.org>  Mon, 23 Mar 1998 21:22:03 -0400

samba (1.9.18p3-1) unstable; urgency=low

  * New upstream version.
  * Oppsss!!! I really screwed it up (actually, debstd did).
    1.9.18p2-2 still contained man pages (smbmount and smbumount) part
    of other packages. This version does have this corrected. If not,
    I no longer deserve to be a Debian developer! So, this version
    fixes bug #18438 and some of the bugs I claimed to fix in
    1.9.18p2-2. Oh, by the way, I fixed the problem by running debstd
    with -m in debian/rules (man pages are installed by "make install"
    so it's a bad idea to re-install man pages with debstd).

 -- Eloy A. Paris <peloy@debian.org>  Mon, 23 Feb 1998 17:32:42 -0400

samba (1.9.18p2-2) unstable; urgency=low

  * Fixes bugs #18017, #17999, #17961, #17932: old 1.9.18p2-1 provided
    a man page for smbmount, which conflicts with package smbfs. This
    was solved by creating a multi-binary package that produces
    package samba and new package smbfsx.
  * Fixes bug #18000 (typo in postinst).
  * Fixes bug #17958 (postinst asks obsolete question). Actually,
    the question is still asked, but only if Samba is run as daemons.
  * Created a multi-binary package from the Samba sources: package
    samba and new package smbfsx which provides SMB mount utilities
    for kernels > 2.1.70.

 -- Eloy A. Paris <peloy@debian.org>  Mon,  9 Feb 1998 19:47:05 -0400

samba (1.9.18p2-1) unstable; urgency=low

  * New upstream version.
  * Removed /etc/cron.weekly/samba because Samba does not handle well
    rotation of log files (if the log file is rotated Samba will
    continue to log to the rotated file, instead of the just created
    one). In any case, Samba will rotate log files after an specific
    file size.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 27 Jan 1998 22:34:27 -0400

samba (1.9.18p1-2) unstable; urgency=low

  * Created a multi-binary package out of the Samba sources to provide
    packages samba and smbfsx (userland utilities to work with
    smbfs with kernels > 2.1.x.

 -- Eloy A. Paris <peloy@debian.org>  Sat, 17 Jan 1998 09:23:48 -0400

samba (1.9.18p1-1) unstable; urgency=low

  * New upstream version.
  * Created /etc/cron.daily/samba to save a copy of /etc/smbpasswd in
    /var/backups/smbpasswd.bak.

 -- Eloy A. Paris <peloy@debian.org>  Wed, 14 Jan 1998 13:40:56 -0400

samba (1.9.18alpha14-1) unstable; urgency=low

  * New upstream version.
  * Added a note to the postinst script telling the user that he/she
    needs to run smbpasswd manually after creating a new /etc/smbpasswd
    from /etc/passwd.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 23 Dec 1997 23:44:37 -0400

samba (1.9.18alpha13-1) unstable; urgency=low

  * New upstream version.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 16 Dec 1997 13:02:32 -0400

samba (1.9.18alpha12-1) unstable; urgency=low

  * New upstream version.
  * Conflicts with the sambades package because the new Samba 1.9.18
    series do not depend on the DES libraries to support encrypted
    passwords.
  * Added parameter "encrypt passwords = yes" to /etc/smb.conf.
  * Compiled with support for quotas in disk_free().
  * Home directories are now exported read only by default.
  * Re-worked debian/rules.
  * Re-worked sample smb.conf.

 -- Eloy A. Paris <peloy@debian.org>  Thu,  4 Dec 1997 22:50:34 -0400

samba (1.9.17p4-1) unstable; urgency=low

  * New upstream version.
  * Made /etc/smb.conf readable by everybody because some Samba utilities
    will fail otherwise when run by non-root users.
  * Dropped PAM support while the PAM libraries are ported to libc6.

 -- Eloy A. Paris <peloy@debian.org>  Tue, 21 Oct 1997 18:08:49 -0400

samba (1.9.17p3-1) unstable; urgency=low

  * New upstream version.
  * Made /etc/smb.conf readable only by root as suggested by smbd's man page.

 -- Eloy A. Paris <peloy@debian.org>  Wed, 15 Oct 1997 09:21:25 -0400

samba (1.9.17p2-2) unstable; urgency=low

  * Running Samba as daemons instead of from inetd.
  * Removing netbios entries in /etc/inetd.conf.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 9 Oct 1997 23:37:25 -0400

samba (1.9.17p2-1) unstable; urgency=low

  * New upstream version that fixes a serious security hole.
  * Removed Debian patches added in 1.9.17-1 and 1.9.17p1-1 because
    these patches are now part of the upstream release.

 -- Eloy A. Paris <peloy@debian.org>  Sun, 28 Sep 1997 22:54:33 -0400

samba (1.9.17p1-1) unstable; urgency=low

  * New upstream version.
  * Defined symbol _LINUX_C_LIB_VERSION_MAJOR as 6 in includes.h to shut up
    compiler warnings.
  * Included rpcsvc/ypclnt.h in includes.h to shut up compiler warnings.
  * Included crypt.h to have function prototype for crypt().
  * Included netinet/tcp.h to have some socket options included.
  * Included netinet/ip.h to have some socket options included.
  * Linking with libcrypt (LIBM='... -lcrypt'). Without including this
    library smbd generates a seg. fault when authenticating users (?).

 -- Eloy A. Paris <debian.org>  Wed, 10 Sep 1997 22:09:18 -0400

samba (1.9.17-1) unstable; urgency=low

  * New upstream version (called the "Browse Fix Release")
  * Added the option --oknodo to the start-stop-daemon invocation in prerm
    script. This was because the prerm was failing because start-stop-daemon
    was returning an error code if no nmbd or smbd daemons were found
    to kill.
  * The function yp_get_default_domain(), referenced in three source
    files was part of libc5 but with libc6 (glibc2) it has been moved
    to libnss_nis. Since the linker was unable to find the function
    I had to add LIBSM='-lnss_nis' to debian/rules.
  * Added -DNO_ASMSIGNALH and -DGLIBC2 to FLAGSM in debian/rules
    because compiling was failing because of conflicts with glibc2.
  * Patched source/includes.h to include termios.h if GLIBC2 is defined.

 -- Eloy A. Paris <peloy@debian.org>  Wed, 27 Aug 1997 08:39:32 -0400

samba (1.9.17alpha5-1) unstable; urgency=low

  * New upstream version.

 -- Eloy A. Paris <peloy@debian.org>  Thu, 14 Aug 1997 18:05:02 -0400

samba (1.9.16p11-3) unstable; urgency=low

  * Fixed accidental omission of /etc/pam.d/samba.

 -- Klee Dienes <klee@debian.org>  Sat, 15 Mar 1997 22:31:26 -0500

samba (1.9.16p11-2) unstable; urgency=low

  * Recompiled against newer PAM libraries.
  * Added /etc/pam.d/samba.

 -- Klee Dienes <klee@debian.org>  Sat, 8 Mar 1997 01:16:28 -0500

samba (1.9.16p11-1) unstable; urgency=low

  * New upstream release.
  * Added PAM support.

 -- Klee Dienes <klee@debian.org>  Tue, 25 Feb 1997 18:00:12 -0500

samba (1.9.16p9-2) unstable; urgency=low

  * minor packaging changes

 -- Klee Dienes <klee@sauron.sedona.com>  Sun, 3 Nov 1996 11:45:37 -0700

samba (1.9.16p9-1) unstable; urgency=low

  * upgraded to new upstream version

 -- Klee Dienes <klee@sauron.sedona.com>  Sat, 26 Oct 1996 21:38:20 -0700

1.9.16alpha10-1:
 960714
 * Removed Package_Revision from control file.
 * Removed -m486 compiler option.
 * Added Architecture, Section and Priority fields to control file.
 * Upgraded to latest upstream version.
 * Uses update-inetd now.
 * Added shadow passwords support.
 * Fixed Bug#1946: nmbd won't browse

1.9.15p4-1:
 951128
 * Upgraded to latest upstream version.
   * Fixed many bugs.
   * Adds Master Browsing support.
 * Converted to ELF.
 * Fixed bug #1825 - nmbd is now killed when removing samba.

1.9.14-1:
 950926 Andrew Howell <andrew@it.com.au>
 * Upgraded to latest version.
 * Fixed Bug #1139 - samba won't print

1.9.14alpha5-1:
 * Fixes killing of inetd problem in debian.postint and debian.postrm 

1.9.14alpha5-0:
 950704 Andrew Howell <andrew@it.com.au>
 * Taken over samba package from Bruce Perens.
 * Upgraded to newest version of samba.

1.9.02-1:
 9-January-1994 Bruce Perens <Bruce@Pixar.com>
 * Added Debian GNU/Linux package maintenance system files, and
   configured for Debian systems.

Local variables:
mode: debian-changelog
add-log-mailing-address: "peloy@debian.org"
End:
