<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>onnode</title><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en"><a name="onnode.1"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>onnode &#8212; run commands on ctdb nodes</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">onnode NODE COMMAND ...</code> </p></div></div><div class="refsect1" lang="en"><a name="id2490457"></a><h2>DESCRIPTION</h2><p>
      onnode is a utility to run commands on a specific node of a CTDB
      cluster, or on all nodes.
    </p><p>
      The NODE option specifies which node to run a command on. You
      can specify a numeric node number (from 0 to N-1) or the special
      node 'all'.
    </p><p>
      The COMMAND can be any shell command. The onnode utility uses
      ssh or rsh to connect to the remote nodes and run the command.
      </p><p>
      If the COMMAND starts with a /, then the command is run via the
      'at' service. Otherwise the command is run in the foreground.
    </p></div><div class="refsect1" lang="en"><a name="id2487793"></a><h2>EXAMPLES</h2><p>
      The following command would show the process ID of ctdb on all nodes
      </p><pre class="screen">
onnode all pidof ctdbd
      </pre><p>
      The following command would show the last 5 lines of log on each
      node, preceded by the nodes hostname
      </p><pre class="screen">
onnode all "hostname; tail -5 /var/log/log.ctdb"
      </pre><p>
      The following command would restart the ctdb service on all nodes.
      </p><pre class="screen">
onnode all service ctdb restart
      </pre></div><div class="refsect1" lang="en"><a name="id2488691"></a><h2>SEE ALSO</h2><p>
      ctdbd(1), ctdb(1), <a href="http://ctdb.samba.org/" target="_top">http://ctdb.samba.org/</a>
    </p></div><div class="refsect1" lang="en"><a name="id2488704"></a><h2>COPYRIGHT/LICENSE</h2><div class="literallayout"><p><br>
Copyright (C) Andrew Tridgell 2007<br>
Copyright (C) Ronnie sahlberg 2007<br>
<br>
This program is free software; you can redistribute it and/or modify<br>
it under the terms of the GNU General Public License as published by<br>
the Free Software Foundation; either version 3 of the License, or (at<br>
your option) any later version.<br>
<br>
This program is distributed in the hope that it will be useful, but<br>
WITHOUT ANY WARRANTY; without even the implied warranty of<br>
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU<br>
General Public License for more details.<br>
<br>
You should have received a copy of the GNU General Public License<br>
along with this program; if not, see http://www.gnu.org/licenses/.<br>
</p></div></div></div></body></html>
