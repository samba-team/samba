<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo</title>
  <link type="text/css" rel="stylesheet" href="../../resource/css/layout.css"/>
  <!--[if IE]>
  <link type="text/css" rel="stylesheet" href="../../resource/css/layout_ie.css"/>
  <![endif]-->
  <script type="text/javascript" src="../../script/qx.js"></script>
</head>
<body>
  <script type="text/javascript" src="../../script/layout.js"></script>

  <div id="demoDescription">
    Tests for the new implementation of the qx.ui.layout.FlowLayout widget.
  </div>

  <script type="text/javascript">
  qx.core.Init.getInstance().defineMain(function()
  {
    var d = qx.ui.core.ClientDocument.getInstance();

    var flow1 = new qx.ui.layout.FlowLayout;

    flow1.setTop(48);
    flow1.setLeft(20);
    flow1.setRight(335);
    flow1.setBottom(200);

    // flow1.setBorder(qx.renderer.border.BorderPresets.getInstance().ridge);
    // flow1.setPadding(8);

    flow1.setHorizontalSpacing(4);
    flow1.setVerticalSpacing(4);
    
    // flow1.setOverflow("scrollY");

    d.add(flow1);

    for (var i=0, witer; i<100; i++)
    {
      witer = new qx.ui.basic.Terminator;
      
      witer.setBackgroundColor("white");
      witer.setWidth(50);
      witer.setHeight(50);
      
      flow1.add(witer);
    };
    
    
    // *************************************************************
    
    var controlBox = new qx.ui.layout.VerticalBoxLayout;
    
    controlBox.setLeft(20);
    controlBox.setBottom(48);
    controlBox.setRight(335);
    controlBox.setWidth(null);
    controlBox.setHeight("auto");
    controlBox.setBorder(qx.renderer.border.BorderPresets.getInstance().groove);
    controlBox.setSpacing(4);
    controlBox.setPadding(8);
    
    d.add(controlBox);
    
    
    
    
    var cc0 = new qx.ui.basic.Label("Spacing: ");
    cc0.setWidth(50);
    
    var bc0 = new qx.ui.form.Button("0x0", "icon/16/button-ok.png");
    var bc1 = new qx.ui.form.Button("4x4", "icon/16/button-ok.png");
    var bc2 = new qx.ui.form.Button("8x8", "icon/16/button-ok.png");
    var bc3 = new qx.ui.form.Button("20x20", "icon/16/button-ok.png");
    var bc4 = new qx.ui.form.Button("0x10", "icon/16/button-ok.png");
    var bc5 = new qx.ui.form.Button("10x0", "icon/16/button-ok.png");
    
    bc0.addEventListener("execute", function(e) {
      flow1.setHorizontalSpacing(0);
      flow1.setVerticalSpacing(0);
    });

    bc1.addEventListener("execute", function(e) {
      flow1.setHorizontalSpacing(4);
      flow1.setVerticalSpacing(4);
    });

    bc2.addEventListener("execute", function(e) {
      flow1.setHorizontalSpacing(8);
      flow1.setVerticalSpacing(8);
    });

    bc3.addEventListener("execute", function(e) {
      flow1.setHorizontalSpacing(20);
      flow1.setVerticalSpacing(20);
    });

    bc4.addEventListener("execute", function(e) {
      flow1.setHorizontalSpacing(0);
      flow1.setVerticalSpacing(10);
    });

    bc5.addEventListener("execute", function(e) {
      flow1.setHorizontalSpacing(10);
      flow1.setVerticalSpacing(0);
    });
    
    var hc0 = new qx.ui.layout.HorizontalBoxLayout;
    
    hc0.add(cc0, bc0, bc1, bc2, bc3, bc4, bc5);
    hc0.setVerticalChildrenAlign("middle");
    hc0.setHeight("auto");
    
    controlBox.add(hc0);
    
    
    
    
    
    
    var cr0 = new qx.ui.basic.Label("Order: ");
    cr0.setWidth(50);
    
    var br0 = new qx.ui.form.Button("Default", "icon/16/button-ok.png");
    var br1 = new qx.ui.form.Button("Reversed", "icon/16/button-ok.png");    
    
    br0.addEventListener("execute", function(e) {
      flow1.setReverseChildrenOrder(false);
    });
    
    br1.addEventListener("execute", function(e) {
      flow1.setReverseChildrenOrder(true);
    });   
    
    
    
    var hc1 = new qx.ui.layout.HorizontalBoxLayout;
    
    hc1.add(cr0, br0, br1);
    hc1.setVerticalChildrenAlign("middle");
    hc1.setHeight("auto");
    
    controlBox.add(hc1);
    
    
    
    
    
    
    
    var ca0 = new qx.ui.basic.Label("Children: ");
    ca0.setWidth(50);
    
    var ba0 = new qx.ui.form.Button("New Atom", "icon/16/button-ok.png");
    var ba1 = new qx.ui.form.Button("New Image", "icon/16/button-ok.png");    
    var ba2 = new qx.ui.form.Button("New Atom to #3", "icon/16/button-ok.png");    
    var ba3 = new qx.ui.form.Button("New Image to #6", "icon/16/button-ok.png");    
    var ba4 = new qx.ui.form.Button("Remove First", "icon/16/button-ok.png");    
    
    ba0.addEventListener("execute", function(e) {
      flow1.add(new qx.ui.basic.Atom("New Atom", "icon/16/services.png"));
    });
    
    ba1.addEventListener("execute", function(e) {
      flow1.add(new qx.ui.basic.Image("icon/64/pipe.png"));
    });   
    
    ba2.addEventListener("execute", function(e) {
      flow1.addAt(new qx.ui.basic.Atom("New Atom", "icon/16/bell.png"), 3);
    });  
    
    ba3.addEventListener("execute", function(e) {
      flow1.addAt(new qx.ui.basic.Image("icon/64/vectorgraphics.png"), 6);
    });  
    
    ba4.addEventListener("execute", function(e) {
      flow1.remove(flow1.getFirstChild());
    });              
    
    var ha1 = new qx.ui.layout.HorizontalBoxLayout;
    
    ha1.add(ca0, ba0, ba1, ba2, ba3, ba4);
    ha1.setVerticalChildrenAlign("middle");
    ha1.setHeight("auto");
    
    controlBox.add(ha1);   
    
  });
  </script>
</body>
</html>