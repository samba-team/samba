<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo</title>
  <link type="text/css" rel="stylesheet" href="../../resource/css/layout.css"/>
  <!--[if IE]>
  <link type="text/css" rel="stylesheet" href="../../resource/css/layout_ie.css"/>
  <![endif]-->
  <script type="text/javascript" src="../../script/qx.js"></script>
</head>
<body>
  <script type="text/javascript" src="../../script/layout.js"></script>

  <div id="demoDescription">
    <p>Testing qx.ui.form.ComboBox implementation.</p>
    <p>Testing object creation (the list content will be filled then) on first open.</p>
    <p>Added Color Theme Buttons</p>
    <p>Now with image inside the popup.</p>
  </div>

  <select style="position:absolute; left:300px; top:48px; width: 120px;">
    <option>Item No 1</option>
    <option>Item No 2</option>
    <option>Item No 3</option>
    <option>Item No 4</option>
    <option>Item No 5</option>
    <option>Item No 6</option>
    <option>Item No 7</option>
    <option>Item No 8</option>
    <option>Item No 9</option>
    <option disabled="true">Item No 10</option>
    <option>Item No 11</option>
    <option>Item No 12</option>
    <option>Item No 13</option>
    <option>Item No 14</option>
    <option>Item No 15</option>
    <option>Item No 16</option>
    <option>Item No 17</option>
    <option>Item No 18</option>
    <option>Item No 19</option>
    <option disabled="true">Item No 20</option>
    <option>Item No 21</option>
    <option>Item No 22</option>
    <option>Item No 23</option>
    <option>Item No 24</option>
    <option>Item No 23</option>
    <option>Item No 24</option>
    <option>Item No 25</option>
    <option>Item No 26</option>
    <option>Item No 27</option>
    <option>Item No 28</option>
    <option>Item No 29</option>
    <option disabled="true">Item No 30</option>
  </select>

  <script type="text/javascript">
    qx.core.Init.getInstance().defineMain(function()
    {
      var d = qx.ui.core.ClientDocument.getInstance();

      var c1 = new qx.ui.form.ComboBox;
      c1.setLocation(20, 48);

      // this example seems to be buggy with auto-height
      // c1.getPopup().setHeight(150);

      c1.addEventListener("beforeInitialOpen", function(e)
      {
        var item;
        var list = [ "archive", "binary", "card", "document", "html", "image", "manual", "multimedia", "pdf" ];

        for(var i=0; i<list.length; i++)
        {
          item = new qx.ui.form.ListItem(list[i], "icon/48/mime-" + list[i] + ".png");
          item.setShow("icon");

          c1.add(item);
        };
    
    c1.setSelected(c1.getList().getFirstChild());
      });

      // this does not work here (if there is no content)
      c1.setSelected(c1.getList().getFirstChild());

      c1.addEventListener("changeValue", function(e) {
        this.debug("New value: " + e.getData());
      });

      c1.addEventListener("changeSelected", function(e) {
        this.debug("New selected: " + e.getData());
      });




      var b1 = new qx.ui.form.CheckBox("Editable");

      b1.set({ top: 50, left: 150 });

      b1.addEventListener("changeChecked", function(e) {
        c1.setEditable(e.getData());
      });



      d.add(c1, b1);







    // Color Themes
    qx.manager.object.ColorManager.getInstance().createThemeList(d, 20, 248);



    });
  </script>
</body>
</html>
